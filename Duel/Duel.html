<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Duel</title>
    <style type="text/css">
        * { margin:0; padding:0; }
        html, body { text-align:center; background-color:#001100; }
        canvas { margin-top:40px; display:inline-block; }
    </style>
    <script src="dafen2d.min.js"></script>
    <script src="./Scripts/duel.randomShift.js"></script>
    <script type="text/javascript">
        var loadJSON = function(path, success, error)
        {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function()
            {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        if (success)
                            success(JSON.parse(xhr.responseText));
                    } else {
                        if (error)
                            error(xhr);
                    }
                }
            };
            xhr.open("GET", path, true);
            xhr.send();
        };

        window.onload = function() {
            loadJSON('./scene.json', function(data) {
                var c = document.getElementById('duelCanvas');
                var g = dafen2d.makeGame(c, data);
                g.start();
            }, function(err) {
                console.log(err);
            });
        };
    </script>
</head>
<body>
    <canvas id="duelCanvas" width="960" height="640"></canvas>
</body>
</html>