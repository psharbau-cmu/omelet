<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <script src="../dafen2d.onScreenSort.js"></script>
    <script type="text/javascript">

        var tree = dafen2d.createOnScreenTree();
        var makeThing = function() {
            this.screenSort = [];
            var a = 0;
            var i = Math.random() * 2;
            while (a < i) {
                this.screenSort.push(((Math.random() * 200) - 100) | 0);
                a += 1;
            }
        };

        var lastValue = 0;

        makeThing.prototype.draw = function() {
            lastValue += 1;
            console.log(lastValue);
        };

        var test = function() {
            var things = [];

            for (var i = 0; i < 100; i += 1) {
                var thing = new makeThing();
                things.push(thing);
                tree.insert(thing);
            }

            lastValue = 0;
            tree.draw();

            while (things.length > 0) {
                thing = things.pop();
                thing.onScreenNode.remove();
            }

            window.requestAnimationFrame(test);
        };
    </script>
</head>
<body>

</body>
</html>